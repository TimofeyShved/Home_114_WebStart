# Развертывание приложения Java Web Start

Чтобы развернуть приложение Java Web Start, сначала скомпилируйте исходный код, упакуйте его как файл JAR и подпишите файл JAR.

Приложения Java Web Start запускаются с использованием протокола сетевого запуска Java (JNLP). Следовательно, вы должны создать файл JNLP для развертывания вашего приложения.

Сценарий Deployment Toolkit содержит полезные функции JavaScript, которые можно использовать для развертывания приложений Java Web Start на веб-странице.

Вот несколько пошаговых инструкций по упаковке и развертыванию вашего приложения. Приложение Dynamic Tree Demo используется для иллюстрации развертывания приложений Java Web Start. Возможно, вы захотите настроить сценарии сборки для выполнения некоторых из следующих шагов.

---
<b>
Примечание.  

Если вы не видите работающего примера, возможно, вам потребуется включить интерпретатор JavaScript в вашем браузере, чтобы сценарий Deployment Toolkit мог работать правильно.
</b>

---

1. Скомпилируйте код Java вашего приложения и убедитесь, что все файлы классов и ресурсы, такие как изображения, находятся в отдельном каталоге.
<br><br>
В приложении Dynamic Tree Demo скомпилированные классы помещаются в build/classes/webstartComponentArchкаталог.

2. Создайте текстовый файл, содержащий любые атрибуты манифеста файла JAR, которые нужны вашему апплету.
<br><br>
Для апплета DynamicTree Demo, создайте файл с именем mymanifest.txtв build/classesкаталоге, и добавить Permissions, Codebaseи Application-Nameатрибуты. Аплет не требует доступа к системным ресурсам пользователя, поэтому используйте sandboxразрешения. Используйте домен, из которого вы будете загружать образец для базы кода, например myserver.com,. Добавьте в mymanifest.txtфайл следующие атрибуты .
<br><br>
Разрешения: песочница
<br>
Кодовая база: myserver.com
<br>
Имя приложения: Демонстрация динамического дерева
<br><br>
Другие атрибуты манифеста доступны для ограничения апплета использованием только доверенного кода и для обеспечения безопасности апплетов, которым необходимо выполнять вызовы между привилегированным кодом Java и кодом Java песочницы или иметь код JavaScript, который вызывает апплет. См. Урок « Повышение безопасности с помощью атрибутов манифеста», чтобы узнать больше о доступных атрибутах манифеста.

3. Создайте файл JAR, содержащий файлы классов и ресурсы вашего приложения. Включите атрибуты манифеста в mymanifest.txtфайл, который вы создали на предыдущем шаге.
Например, следующая команда создает файл JAR с файлами классов в build/classes/webstartComponentArchкаталоге и файлом манифеста в build/classesкаталоге.
<br><br>
% cd build / классы
<br>
% jar cvfm DynamicTreeDemo.jar mymanifest.txt webstartComponentArch
<br>

4. Подпишите JAR-файл для вашего апплета и отметьте время подписи. Используйте действующий текущий сертификат подписи кода, выданный доверенным центром сертификации, чтобы предоставить пользователям уверенность в том, что запуск апплета безопасен.
Дополнительную информацию см. В уроке « Подписание файлов JAR» .
<br><br>
Если вы хотите использовать подписанный файл JNLP для обеспечения безопасности, создайте файл JNLP, как описано в следующем шаге, и включите его в файл JAR до того, как файл JAR будет подписан. Для получения дополнительной информации см. Подписанные файлы JNLP в Руководстве по развертыванию стандартной версии платформы Java.
<br><br>
5. Создайте файл JNLP, описывающий, как должно запускаться ваше приложение.
Вот файл JNLP, который используется для запуска приложения Dynamic Tree Demo. Для этого приложения не запрашиваются разрешения, поэтому оно работает в изолированной программной среде безопасности. Источник для dynamictree_webstart.jnlpследующего:
<br><br>                        
Структура файла JNLP описывает синтаксис и параметры файла JNLP.<br>
6. Создайте HTML-страницу, с которой будет запускаться ваше приложение. Вызовите функции Deployment Toolkit для развертывания приложения Java Web Start.
<br><br>
Если вы не уверены, будет ли у ваших конечных пользователей включен интерпретатор JavaScript в своих браузерах, вы можете развернуть приложение Java Web Start напрямую, создав ссылку на файл JNLP следующим образом:
<br><br>
<a href="/ абсолютный путь к файлу JNLP /dynamictree_webstart.jnlp"> Запустить приложение "Блокнот" </a>
Если вы развертываете приложение Java Web Start с прямой ссылкой, вы не можете воспользоваться дополнительными проверками, которые предоставляют функции Deployment Toolkit. Дополнительные сведения см. В разделе « Развертывание приложения Java Web Start» в уроке «Углубленное развертывание».
<br><br>
7. Поместите файл JAR приложения, файл JNLP и страницу HTML в соответствующие папки.
<br><br>
В этом примере поместите DynamicTreeDemo.jar, dynamictree_webstart.jnlpи JavaWebStartAppPage.htmlв тот же каталог на локальном компьютере или на веб-сервере. Веб-сервер предпочтительнее. Для запуска с локального компьютера вы должны добавить свое приложение в список сайтов исключений, которым можно управлять на вкладке «Безопасность» панели управления Java.
<br><br>
8. Откройте HTML-страницу приложения в браузере, чтобы просмотреть приложение. Согласитесь запустить приложение, когда будет предложено. Проверьте журнал консоли Java на наличие сообщений об ошибках и отладочных сообщений.
<br><br>
---
<b>Примечание:codebase и hrefнеобязательные атрибуты при развертывании Java Web Start приложения , которые будут работать по крайней мере Java SE 6 обновление 18 выпуска или более поздней версии. Вы должны указать codebaseи hrefатрибуты при развертывании Java Web Start приложения , которые будут работать с предыдущими версиями программного обеспечения Java Runtime Environment.</b>
